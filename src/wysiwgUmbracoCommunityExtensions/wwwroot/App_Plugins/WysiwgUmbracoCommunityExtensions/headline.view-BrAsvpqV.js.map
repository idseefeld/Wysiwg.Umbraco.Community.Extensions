{"version":3,"file":"headline.view-BrAsvpqV.js","sources":["../../../Wysiwg/src/blocks/views/headline.view.ts"],"sourcesContent":["import { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\r\nimport {\r\n  html,\r\n  customElement,\r\n  css,\r\n  unsafeHTML,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport type { UmbBlockEditorCustomViewElement } from \"@umbraco-cms/backoffice/block-custom-view\";\r\nimport WysiwgBaseBlockEditorCustomViewElement from \"./wysiwg-base-block-editor-custom.view\";\r\nimport { ColorType } from \"./types\";\r\n\r\nconst customElementName = \"wysiwg-block-headline-view\";\r\n@customElement(customElementName)\r\nexport class WysiwgBlockHeadlineView\r\n  extends WysiwgBaseBlockEditorCustomViewElement {\r\n\r\n  defaultColor: ColorType = { label: \"Black\", value: \"#000\" };\r\n\r\n  override render() {\r\n    let size = \"h1\";\r\n    let inlineStyle = \"\";\r\n    if (this.datasetSettings?.length) {\r\n      const layout = (this as UmbBlockEditorCustomViewElement).layout;\r\n      const settings = this.datasetSettings.filter(\r\n        (s) => layout?.settingsKey === s.key\r\n      )[0]?.values;\r\n\r\n      size =\r\n        settings\r\n          .filter((v) => v.alias === \"size\")[0]\r\n          ?.value?.toString()\r\n          .toLowerCase() ?? size;\r\n\r\n      const color =\r\n        (settings.filter((v) => v.alias === \"color\")[0]?.value as ColorType)\r\n          ?.value ?? this.defaultColor.value;\r\n      if (color && !this.isTransparentColor(color)) {\r\n        inlineStyle = `color: ${color};`;\r\n      }\r\n      const margin =\r\n        (settings.filter((v) => v.alias === \"margin\")[0]?.value as string) ??\r\n        \"\";\r\n      if (margin) {\r\n        inlineStyle += `margin: ${margin};`;\r\n      }\r\n\r\n      if (inlineStyle) {\r\n        inlineStyle = `style=\"${inlineStyle}\"`;\r\n      }\r\n    }\r\n    const headline = this.content?.text ?? \"Headline\";\r\n    const innerHtml = `<${size} class=\"headline\" ${inlineStyle}>${headline}</${size}>`;\r\n    return html`${unsafeHTML(innerHtml)}`;\r\n  }\r\n\r\n  static override styles = [\r\n    UmbTextStyles,\r\n    css`\r\n      :host {\r\n        display: block;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        padding: 0;\r\n        margin: 0;\r\n        font-family: var(--wysiwg-font-family, initial);\r\n      }\r\n      h1, h2, h3 {\r\n        margin: 0;\r\n      }\r\n      .headline{\r\n        color: var(--wysiwg-headline-color, inherit);\r\n        text-shadow: var(--wysiwg-headline-text-shadow, none);\r\n      }\r\n      h1 {\r\n        font-size: var(--wysiwg-headline-1-font-size, 32px);\r\n        line-height: var(--wysiwg-headline-1-line-height, 1.2em);\r\n        margin: var(--wysiwg-headline-1-margin, 0);\r\n      }\r\n      h2 {\r\n        font-size: var(--wysiwg-headline-2-font-size, 28px);\r\n        line-height: var(--wysiwg-headline-2-line-height, 1.2em);\r\n        margin: var(--wysiwg-headline-2-margin, 0);\r\n      }\r\n      h3 {\r\n        font-size: var(--wysiwg-headline-3-font-size , 24px);\r\n        line-height: var(--wysiwg-headline-3-line-height, 1.2em);\r\n        margin: var(--wysiwg-headline-3-margin, 0);\r\n      }\r\n    `,\r\n  ];\r\n}\r\n\r\nexport default WysiwgBlockHeadlineView;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    [customElementName]: WysiwgBlockHeadlineView;\r\n  }\r\n}\r\n"],"names":["customElementName","WysiwgBlockHeadlineView","WysiwgBaseBlockEditorCustomViewElement","size","inlineStyle","_a","layout","settings","_b","s","_d","_c","v","color","_f","_e","margin","_g","headline","_h","innerHtml","html","unsafeHTML","UmbTextStyles","css","__decorateClass","customElement","WysiwgBlockHeadlineView$1"],"mappings":";;;;;;;;AAWA,MAAMA,IAAoB;AAEb,IAAAC,IAAN,cACGC,EAAuC;AAAA,EAD1C,cAAA;AAAA,UAAA,GAAA,SAAA,GAGL,KAAA,eAA0B,EAAE,OAAO,SAAS,OAAO,OAAO;AAAA,EAAA;AAAA,EAEjD,SAAS;;AAChB,QAAIC,IAAO,MACPC,IAAc;AACd,SAAAC,IAAA,KAAK,oBAAL,QAAAA,EAAsB,QAAQ;AAChC,YAAMC,IAAU,KAAyC,QACnDC,KAAWC,IAAA,KAAK,gBAAgB;AAAA,QACpC,CAACC,OAAMH,KAAA,gBAAAA,EAAQ,iBAAgBG,EAAE;AAAA,MAAA,EACjC,CAAC,MAFc,gBAAAD,EAEX;AAEN,MAAAL,MACEO,KAAAC,IAAAJ,EACG,OAAO,CAACK,MAAMA,EAAE,UAAU,MAAM,EAAE,CAAC,MADtC,gBAAAD,EAEI,UAFJ,gBAAAD,EAEW,WACR,kBAAiBP;AAEtB,YAAMU,MACHC,KAAAC,IAAAR,EAAS,OAAO,CAACK,MAAMA,EAAE,UAAU,OAAO,EAAE,CAAC,MAA7C,gBAAAG,EAAgD,UAAhD,gBAAAD,EACG,UAAS,KAAK,aAAa;AACjC,MAAID,KAAS,CAAC,KAAK,mBAAmBA,CAAK,MACzCT,IAAc,UAAUS,CAAK;AAEzB,YAAAG,MACHC,IAAAV,EAAS,OAAO,CAACK,MAAMA,EAAE,UAAU,QAAQ,EAAE,CAAC,MAA9C,gBAAAK,EAAiD,UAClD;AACF,MAAID,MACFZ,KAAe,WAAWY,CAAM,MAG9BZ,MACFA,IAAc,UAAUA,CAAW;AAAA,IACrC;AAEI,UAAAc,MAAWC,IAAA,KAAK,YAAL,gBAAAA,EAAc,SAAQ,YACjCC,IAAY,IAAIjB,CAAI,qBAAqBC,CAAW,IAAIc,CAAQ,KAAKf,CAAI;AACxE,WAAAkB,IAAOC,EAAWF,CAAS,CAAC;AAAA,EAAA;AAsCvC;AA7EanB,EA0CK,SAAS;AAAA,EACvBsB;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCF;AA5EWvB,IAANwB,EAAA;AAAA,EADNC,EAAc1B,CAAiB;AAAA,GACnBC,CAAA;AA+Eb,MAAA0B,IAAe1B;"}