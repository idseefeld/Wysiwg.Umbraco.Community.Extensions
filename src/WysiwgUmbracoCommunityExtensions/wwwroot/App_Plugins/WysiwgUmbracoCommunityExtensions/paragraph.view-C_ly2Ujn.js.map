{"version":3,"file":"paragraph.view-C_ly2Ujn.js","sources":["../../../Wysiwg/src/blocks/views/paragraph.view.ts"],"sourcesContent":["import { UmbTextStyles } from \"@umbraco-cms/backoffice/style\";\r\nimport {\r\n  html,\r\n  customElement,\r\n  css,\r\n  unsafeHTML,\r\n  PropertyValues,\r\n} from \"@umbraco-cms/backoffice/external/lit\";\r\nimport WysiwgBaseBlockEditorCustomViewElement from \"./wysiwg-base-block-editor-custom.view\";\r\n\r\nconst customElementName = \"wysiwg-block-paragraph-view\";\r\n@customElement(customElementName)\r\nexport class WysiwgBlockParagraphView\r\n  extends WysiwgBaseBlockEditorCustomViewElement {\r\n\r\n  protected override update(changedProperties: PropertyValues): void {\r\n    super.update(changedProperties);\r\n\r\n    if (changedProperties.has(\"content\")) {\r\n      this.disableLinks();\r\n    }\r\n  }\r\n\r\n  private disableLinks() {\r\n    const paragraphElement = this.shadowRoot?.querySelector('div.paragraph') as HTMLFormElement;\r\n    if (!paragraphElement) return;\r\n\r\n    const links = paragraphElement.querySelector('a');\r\n    if (links) {\r\n      links.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n      });\r\n\r\n      this.requestUpdate();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const settings = this.getLayoutSettings()\r\n\r\n    var property = this.content?.text as { blocks: {}; markup: string };\r\n    var markup = property?.markup;\r\n    const innerHtml = `<div class=\"paragraph\" ${settings.inlineStyle}>${markup}</div>`;\r\n    return html`${unsafeHTML(innerHtml)}`;\r\n  }\r\n\r\n  static override styles = [\r\n    UmbTextStyles,\r\n    css`\r\n      :host {\r\n        display: block;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        margin: 0;\r\n        padding: 0;\r\n        font-family: var(--wysiwg-font-family, initial);\r\n      }\r\n      .paragraph {\r\n        font-size: var(--wysiwg-font-size-16);\r\n        line-height: var(--wysiwg-line-height-24);\r\n        text-shadow: var(--wysiwg-paragraph-text-shadow, none);\r\n      }\r\n      h2, h3{\r\n        color: var(--wysiwg-paragraph-headline-color, inherit);\r\n        text-shadow: var(--wysiwg-paragraph-headline-text-shadow, none);\r\n      }\r\n      h2 {\r\n        font-size: var(--wysiwg-font-size-24, 24px);\r\n        line-height: var(--wysiwg-line-height-28, 28px);\r\n        margin: var(--wysiwg-headline-paragraph-2-margin, 0);\r\n      }\r\n\r\n      h3 {\r\n        font-size: var(--wysiwg-font-size-16, 16px);\r\n        line-height: var(--wysiwg-line-height-24, 24px);\r\n        margin: var(--wysiwg-headline-paragraph-3-margin, 0);\r\n      }\r\n\r\n      p\r\n      {\r\n        font-size: var(--wysiwg-font-size-16, 16px);\r\n        line-height: var(--wysiwg-line-height-24, 24px);\r\n        margin: var(--wysiwg-p-paragraph-margin, 0);\r\n        padding: var(--wysiwg-p-paragraph-padding, 0);\r\n      }\r\n\r\n      a{\r\n        color: inherit;\r\n        text-decoration: var(--wysiwg-link-text-decoration, underline);\r\n      }\r\n\r\n      a:hover{\r\n        color: var(--wysiwg-link-hover-color, inherit);\r\n      }\r\n    `,\r\n  ];\r\n}\r\n\r\nexport default WysiwgBlockParagraphView;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    [customElementName]: WysiwgBlockParagraphView;\r\n  }\r\n}\r\n"],"names":["customElementName","WysiwgBlockParagraphView","WysiwgBaseBlockEditorCustomViewElement","changedProperties","paragraphElement","_a","links","e","settings","property","markup","innerHtml","html","unsafeHTML","UmbTextStyles","css","__decorateClass","customElement","WysiwgBlockParagraphView$1"],"mappings":";;;;;;;;AAUA,MAAMA,IAAoB;AAEb,IAAAC,IAAN,cACGC,EAAuC;AAAA,EAE5B,OAAOC,GAAyC;AACjE,UAAM,OAAOA,CAAiB,GAE1BA,EAAkB,IAAI,SAAS,KACjC,KAAK,aAAa;AAAA,EACpB;AAAA,EAGM,eAAe;;AACrB,UAAMC,KAAmBC,IAAA,KAAK,eAAL,gBAAAA,EAAiB,cAAc;AACxD,QAAI,CAACD,EAAkB;AAEjB,UAAAE,IAAQF,EAAiB,cAAc,GAAG;AAChD,IAAIE,MACIA,EAAA,iBAAiB,SAAS,CAACC,MAAM;AACrC,MAAAA,EAAE,eAAe;AAAA,IAAA,CAClB,GAED,KAAK,cAAc;AAAA,EACrB;AAAA,EAGF,SAAS;;AACD,UAAAC,IAAW,KAAK,kBAAkB;AAEpC,QAAAC,KAAWJ,IAAA,KAAK,YAAL,gBAAAA,EAAc,MACzBK,IAASD,KAAA,gBAAAA,EAAU;AACvB,UAAME,IAAY,0BAA0BH,EAAS,WAAW,IAAIE,CAAM;AACnE,WAAAE,IAAOC,EAAWF,CAAS,CAAC;AAAA,EAAA;AAqDvC;AApFaV,EAkCK,SAAS;AAAA,EACvBa;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+CF;AAnFWd,IAANe,EAAA;AAAA,EADNC,EAAcjB,CAAiB;AAAA,GACnBC,CAAA;AAsFb,MAAAiB,IAAejB;"}